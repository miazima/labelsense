<link rel="import" href="bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="bower_components/paper-menu-button/paper-menu-button.html">
<link rel="import" href="bower_components/polymerfire/firebase-auth.html">
<link rel="import" href="bower_components/paper-menu/paper-menu.html">
<link rel="import" href="bower_components/paper-item/paper-item.html">
<link rel="import" href="bower_components/iron-icons/iron-icons.html">
<link rel="import" href="bower_components/app-layout/app-layout.html">
<link rel="import" href="./src/ls-login.html">

<dom-module id="app-page">
  <template>
    <style>
      :host {
        display: block;
      }
      app-header {
        background-color: var(--paper-teal-500);
        color: white;
      }
      paper-menu {
        padding-top: 0px;
      }
      paper-item.settingsHeader {
        background-color: var(--paper-teal-800);
        color: white;
        padding-top: 8px;
      }
/*      .dropdown-content.paper-menu-button {
        top: 80px;
      }*/
/*      #analysisDropdown .dropdown-content.paper-menu-button {
      top: 68px;
      left: 205px;
      overflow: visible !important;
    }*/
    #analysisDropdown iron-dropdown.paper-menu-button {
      color: red;
    }

    paper-menu-button {
       --paper-menu-button-dropdown:{
          top:64px !important;
          right: 0px;
          left: initial !important;
        };
    }
    </style>

    <firebase-auth
      id="auth" 
      user="{{user}}" 
      status-known="{{statusKnown}}"
      signed-in="{{signedIn}}"
      provider="google">
    </firebase-auth>

    <app-header reveals>
      <app-toolbar>
        <paper-icon-button icon="menu" onclick="drawer.toggle()"></paper-icon-button>
        <div main-title>LabelSense</div>
        <!-- <paper-icon-button icon="settings"></paper-icon-button> -->
        <paper-menu-button vertical-align="top" horizontal-align="right" id="analysisDropdown">
          <paper-icon-button icon="settings" class="dropdown-trigger"></paper-icon-button>
          <paper-menu class="dropdown-content">
            <paper-item class="settingsHeader">Hello [[user.displayName]]!</paper-item>
            <paper-item>App Settings</paper-item>
            <paper-item hidden$="[[!user]]">Logout</paper-item>
<!--             <paper-item>Settings</paper-item>
            <paper-item>Help</paper-item> -->
          </paper-menu>
      </paper-menu-button>
      </app-toolbar>
    </app-header>
    <app-drawer id="drawer" swipe-open></app-drawer>
    <sample-content size="10"></sample-content>
    
  </template>
  <script>
    Polymer({
      is: 'app-page',

      logout: function() {
        return this.$.auth.signOut();
      }
    });
  </script>
</dom-module>